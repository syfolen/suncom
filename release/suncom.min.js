var suncom;(function(e){var r;(function(e){e[e["DEBUG"]=1]="DEBUG";e[e["ENGINEER"]=2]="ENGINEER";e[e["ENGINE"]=4]="ENGINE";e[e["NATIVE"]=8]="NATIVE";e[e["NETWORK"]=16]="NETWORK";e[e["NETWORK_HEARTBEAT"]=32]="NETWORK_HEARTBEAT";e[e["NORMAL"]=64]="NORMAL"})(r=e.DebugMode||(e.DebugMode={}));var t;(function(e){e[e["DEVELOP"]=0]="DEVELOP";e[e["DEBUG"]=1]="DEBUG";e[e["WEB"]=2]="WEB"})(t=e.EnvMode||(e.EnvMode={}));var o;(function(e){e[e["VERBOSE"]=0]="VERBOSE";e[e["WARN"]=1]="WARN";e[e["ERROR"]=2]="ERROR";e[e["LOG2F"]=3]="LOG2F"})(o=e.LogTypeEnum||(e.LogTypeEnum={}));var n=function(){function e(){this.$events={};this.$onceList=[];this.$isCanceled=false}e.prototype.dispatchCancel=function(){this.$isCanceled=true};e.prototype.dispatchEvent=function(e,r,t){if(t===void 0){t=false}if(f.isStringInvalidOrEmpty(e)===true){throw Error("派发无效事件！！！")}var n=this.$events[e]||null;if(n===null){return}if(n.length===1){return}n[0]=true;var i=this.$isCanceled;this.$isCanceled=false;for(var o=1;o<n.length;o++){var a=n[o];if(a.receiveOnce===true){this.$onceList.push(a)}if(r===void 0){a.method.call(a.caller)}else if(r instanceof Array){a.method.apply(a.caller,r)}else{a.method.call(a.caller,r)}if(t===true&&this.$isCanceled){break}}this.$isCanceled=i;n[0]=false;while(this.$onceList.length){var u=this.$onceList.pop();this.removeEventListener(u.type,u.method,u.caller)}};e.prototype.addEventListener=function(e,r,t,n,i){if(n===void 0){n=false}if(i===void 0){i=1}if(f.isStringInvalidOrEmpty(e)===true){throw Error("注册无效事件！！！")}var o=this.$events[e]||null;if(o===null){o=this.$events[e]=[false]}else if(o[0]===true){o=this.$events[e]=o.concat();o[0]=false}var a=-1;for(var u=1;u<o.length;u++){var l=o[u];if(l.method===r&&l.caller===t){return}if(a===-1&&l.priority<i){a=u}}var s={type:e,method:r,caller:t,priority:i,receiveOnce:n};if(a<0){o.push(s)}else{o.splice(a,0,s)}};e.prototype.removeEventListener=function(e,r,t){if(f.isStringInvalidOrEmpty(e)===true){throw Error("移除无效事件！！！")}var n=this.$events[e]||null;if(n===null){return}if(n.length===1){return}if(n[0]===true){n=this.$events[e]=n.slice(0);n[0]=false}for(var i=0;i<n.length;i++){var o=n[i];if(o.method===r&&o.caller===t){n.splice(i,1);break}}if(n.length===1){delete this.$events[e]}};return e}();e.EventSystem=n;var i=function(){function n(e,r,t){this.$args=t;this.$caller=e;this.$method=r}n.prototype.run=function(){if(this.$args===void 0){return this.$method.call(this.$caller)}else{return this.$method.apply(this.$caller,this.$args)}};n.prototype.runWith=function(e){if(this.$args===void 0){if(e instanceof Array){return this.$method.apply(this.$caller,e)}else{return this.$method.call(this.$caller,e)}}else{return this.$method.apply(this.$caller,this.$args.concat(e))}};Object.defineProperty(n.prototype,"caller",{get:function(){return this.$caller},enumerable:true,configurable:true});Object.defineProperty(n.prototype,"method",{get:function(){return this.$method},enumerable:true,configurable:true});n.create=function(e,r,t){return new n(e,r,t)};return n}();e.Handler=i;var a=function(){function e(e){this.source=[];this.dataMap={};if(typeof e==="number"){e=e.toString()}if(typeof e!=="string"){throw Error("非法的主键字段名："+e)}if(e.length==0){throw Error("无效的主键字段名字长度："+e.length)}else{this.$primaryKey=e}}e.prototype.$removeByIndex=function(e){var r=this.source[e];this.source.splice(e,1);var t=r[this.$primaryKey];delete this.dataMap[t];return r};e.prototype.$getIndexByValue=function(e,r){if(r===void 0){return-1}for(var t=0;t<this.source.length;t++){var n=this.source[t];if(n[e]===r){return t}}return-1};e.prototype.put=function(e){var r=e[this.$primaryKey];if(typeof r==="number"){r=r.toString()}if(typeof r!=="string"){throw Error("主键的值类型错误："+typeof r+"，只允许使用Number或String类型")}if(this.getByPrimaryValue(r)===null){this.source.push(e);this.dataMap[r]=e}else{throw Error("重复的主键值：["+this.$primaryKey+"]"+r)}return e};e.prototype.remove=function(e){var r=this.source.indexOf(e);if(r===-1){return e}else{return this.$removeByIndex(r)}};e.prototype.getByValue=function(e,r){if(e===this.$primaryKey){return this.getByPrimaryValue(r)}var t=this.$getIndexByValue(e,r);if(t===-1){return null}return this.source[t]};e.prototype.getByPrimaryValue=function(e){return this.dataMap[e]||null};e.prototype.removeByValue=function(e,r){var t=this.$getIndexByValue(e,r);if(t===-1){return null}else{return this.$removeByIndex(t)}};e.prototype.removeByPrimaryValue=function(e){var r=this.getByPrimaryValue(e);if(r===null){return null}return this.remove(r)};e.prototype.forEach=function(e){var r=this.source.slice(0);for(var t=0;t<r.length;t++){if(e(r[t])===true){break}}};return e}();e.HashMap=a;var f;(function(c){var e=0;function r(){e++;return e}c.createHashId=r;function t(e){var r=e.toString().trim();var t=r.indexOf("(");return r.substring(9,t)}c.getClassName=t;function n(e){var r=typeof e;if(r!=="object"){return r}var t=e.prototype||Object.getPrototypeOf(e)||null;if(t===null){return r}return c.getClassName(t.constructor)}c.getQualifiedClassName=n;function i(e,r){if(r===void 0){r=null}if(r===null){return c.getClassName(e)}for(var t in r){if(r[t]===e){return t}}return null}c.getMethodName=i;function o(e,r){var t=Object.keys(r);for(var n=0;n<t.length;n++){var i=t[n];if(r[i]===e){return i}}return null}c.convertEnumToString=o;function a(e){if(typeof e==="number"){return true}if(typeof e==="string"&&isNaN(Number(e))===false){return true}return false}c.isNumber=a;function u(e){if(typeof e==="number"){return false}if(typeof e==="string"&&e!==""){return false}return true}c.isStringInvalidOrEmpty=u;function l(e,r){var t=["%d","%s"];while(r.length>0){var n=null;var i=-1;for(var o=0;o<t.length;o++){var a=t[o];var u=e.indexOf(a);if(u===-1){continue}if(i===-1||u<i){n=a;i=u}}if(i===-1){throw Error("字符串替换未完成 str:"+e)}e=e.replace(n,r.shift())}return e}c.formatString=l;function s(e,r){while(r.length>0){if(e.indexOf("{$}")===-1){throw Error("字符串替换未完成 str:"+e)}else{e=e.replace("{$}",r.shift())}}return e}c.formatString$=s;function f(e){if(e<0){return-e}return e}c.abs=f;function v(e,r){if(r<e){return r}return e}c.min=v;function h(e,r){if(e<r){return r}return e}c.max=h;function g(e,r,t){if(e<r){return r}else if(e>t){return t}return e}c.clamp=g;function p(e,r){if(r===void 0){r=0}var t=e.toString();var n=t.indexOf(".");if(n===-1){return e}var i=n+1;if(t.length-i<=r){return e}var o=t.substr(0,n);var a=t.substr(i,r);var u=t.substr(i+r,2);var l=u.length===1?u:u.charAt(0);var s=u.length===1?"0":u.charAt(1);var f=parseInt(o+a);var c=parseInt(l+s);if(f<0&&c>0){f--;c=100-c}var v=c.toString();var h=parseInt(v.charAt(0));var g=parseInt(v.charAt(1));if(h>5){f+=1}else if(h===5){if(g>0){f++}else{var p=f%2;if(p===1||p===-1){f+=1}}}var m=f.toString();var d=m.length-r;var y=m.substr(0,d)+"."+m.substr(d);var E=parseFloat(y);return E}c.round=p;function m(e,r){if(r===void 0){r=0}var t=Math.pow(10,r+1);var n=Math.floor(e*t);var i=n%10;var o=(n-i)/10;if(i<0){o-=1;i+=10}if(i>5){o+=1}else if(i===5){var a=o%2;if(a===1||a===-1){o+=1}}return o/Math.pow(10,r)}c.$round=m;function d(e,r){var t=L.random()*(r-e);return Math.floor(t)+e}c.random=d;function y(e){if(e instanceof Date){return e}if(c.isNumber(e)===true){return new Date(e)}if(typeof e==="string"){var r=e.split(" ");var t=r.length===1?[]:r.shift().split("-");var n=r[0].split(":");if(n.length===3){if(t.length===0){var i=new Date;t[0]=i.getFullYear().toString();t[1]=(i.getMonth()+1).toString();t[2]=i.getDate().toString()}return new Date(Number(t[0]),Number(t[1])-1,Number(t[2]),Number(n[0]),Number(n[1]),Number(n[2]))}return new Date(e)}throw Error("Convert Date Error:"+e)}c.convertToDate=y;function E(e,r,t){var n=c.convertToDate(t);if(e==="yy"){n.setFullYear(n.getFullYear()+r)}else if(e==="MM"){var i=r%12;var o=(r-i)/12;n.setFullYear(n.getFullYear()+o);var a=n.getMonth()+i;if(a>11){n.setMonth(a-11);n.setFullYear(n.getFullYear()+1)}else if(a<0){n.setMonth(i+11);n.setFullYear(n.getFullYear()-1)}else{n.setMonth(a)}}var u=n.valueOf();if(e==="ww"){u+=r*7*24*3600*1e3}else if(e==="dd"){u+=r*24*3600*1e3}else if(e==="hh"){u+=r*3600*1e3}else if(e==="mm"){u+=r*60*1e3}else if(e==="ss"){u+=r*1e3}else if(e==="ms"){u+=r}return u}c.dateAdd=E;function b(e,r,t){var n=c.convertToDate(r);var i=c.convertToDate(t);var o=n.valueOf();var a=i.valueOf();if(e==="ms"){return a-o}o=Math.floor(o/1e3);a=Math.floor(a/1e3);if(e==="ss"){return a-o}o=Math.floor(o/60);a=Math.floor(a/60);if(e==="mm"){return a-o}o=Math.floor(o/60);a=Math.floor(a/60);if(e==="hh"){return a-o}o=Math.floor(o/24);a=Math.floor(a/24);if(e==="dd"){return a-o}if(e==="ww"){return Math.floor((a-4-(o-4))/7)}if(e==="MM"){return i.getMonth()-n.getMonth()+(i.getFullYear()-n.getFullYear())*12}if(e==="yy"){return i.getFullYear()-n.getFullYear()}return 0}c.dateDiff=b;function N(e,r){var t=c.convertToDate(r);e=e.replace("MS",("00"+t.getMilliseconds().toString()).substr(-3));e=e.replace("ms",t.getMilliseconds().toString());e=e.replace("yyyy",t.getFullYear().toString());e=e.replace("yy",t.getFullYear().toString().substr(2,2));e=e.replace("MM",("0"+(t.getMonth()+1).toString()).substr(-2));e=e.replace("dd",("0"+t.getDate().toString()).substr(-2));e=e.replace("hh",("0"+t.getHours().toString()).substr(-2));e=e.replace("mm",("0"+t.getMinutes().toString()).substr(-2));e=e.replace("ss",("0"+t.getSeconds().toString()).substr(-2));e=e.replace("M",(t.getMonth()+1).toString());e=e.replace("d",t.getDate().toString());e=e.replace("h",t.getHours().toString());e=e.replace("m",t.getMinutes().toString());e=e.replace("s",t.getSeconds().toString());return e}c.formatDate=N;function $(e){throw Error("未实现的接口！！！")}c.md5=$;function I(e){var r=e.lastIndexOf("/");if(r>-1){e=e.substr(r+1)}var t=c.getFileExtension(e);return e.substr(0,e.length-t.length-1)}c.getFileName=I;function M(e){var r=e.lastIndexOf(".");if(r===-1){return null}else{return e.substr(r+1).toLowerCase()}}c.getFileExtension=M;function O(e,r){var t=e.lastIndexOf(".");if(t===-1){return e}else{return e.substr(0,t+1)+r}}c.replacePathExtension=O;function S(e){var r=Object.keys(e).sort();var t=[];for(var n=0;n<r.length;n++){var i=r[n];if(i!=="sign"){t.push(i+"="+e[i])}}t.push("key=123456789012345678");return c.md5(t.join("&"))}c.createHttpSign=S;function R(e,r,t){if(t===void 0){t=null}for(var n=0;n<e.length;n++){var i=e[n];if(r(i)===true){if(t===null){return i}t.push(i)}}return t}c.findFromArray=R;function _(e,r){for(var t=0;t<r.length;t++){if(r[t]===e){r.splice(t,1);break}}}c.removeItemFromArray=_;function D(e,r){for(var t=0;t<e.length;t++){c.removeItemFromArray(e[t],r)}}c.removeItemsFromArray=D;function w(e){if(typeof e!=="string"){F.error("参数版本号无效");return 0}if(typeof B.VERSION!=="string"){F.error("版本号未设置");return 0}var r=e.split(".");var t=B.VERSION.split(".");var n=r.length>t.length?r.length:t.length;while(r.length<n){r.push("0")}while(t.length<n){t.push("0")}var i=false;var o=false;for(var a=0;a<n;a++){var u=r[a];var l=t[a];if(c.isNumber(u)===false){i=true;r[a]="0"}if(c.isNumber(l)===false){o=true;t[a]="0"}}if(i===true){F.error("参数版本号无效 ver:"+e)}if(o===true){F.error("当前版本号无效 ver:"+B.VERSION)}if(i===true||o===true){return 0}for(var a=0;a<n;a++){var u=r[a];var l=t[a];var s=Number(u);var f=Number(l);if(s<f){return 1}else if(s>f){return-1}}return 0}c.compareVersion=w})(f=e.Common||(e.Common={}));var u;(function(t){var n=0;t.$table={};function e(e){return t.$table[e]}t.get=e;function r(e,r){if(e>-1){t.$table[e]=r}else{n++;t.$table["auto_"+n]=r}return r}t.put=r;function i(e){return t.$table[e]!==void 0}t.exist=i;function o(e){delete t.$table[e]}t.drop=o})(u=e.DBService||(e.DBService={}));var B;(function(e){e.envMode=t.DEVELOP;e.debugMode=0;e.WIDTH=1280;e.HEIGHT=720;e.width=1280;e.height=720;e.VERSION="1.0.0"})(B=e.Global||(e.Global={}));var F;(function(e){function r(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}var t=e.join(" ");console.log(t);puremvc.Facade.getInstance().sendNotification(l.DEBUG_PRINT,[o.VERBOSE,t])}e.log=r;function t(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}var t=e.join(" ");console.warn(t);puremvc.Facade.getInstance().sendNotification(l.DEBUG_PRINT,[o.WARN,t])}e.warn=t;function n(){var e=[];for(var r=0;r<arguments.length;r++){e[r]=arguments[r]}var t=e.join(" ");console.error(t);puremvc.Facade.getInstance().sendNotification(l.DEBUG_PRINT,[o.ERROR,t])}e.error=n;function i(e){var r=e.join(" ");console.info(r);puremvc.Facade.getInstance().sendNotification(l.DEBUG_PRINT,[o.LOG2F,r])}e.log2f=i})(F=e.Logger||(e.Logger={}));var l;(function(e){e.DEBUG_PRINT="suncom.NotifyKey.DEBUG_PRINT"})(l=e.NotifyKey||(e.NotifyKey={}));var s;(function(o){var n={};function e(e){var r=n[e]||null;if(r!==null&&r.length>0){var t=r.pop();delete t["__suncom__$__inPool__"];return t}return null}o.getItem=e;function r(e,r,t){var n=o.getItem(e);if(n===null){if(Laya.Prefab!==void 0&&r===Laya.Prefab){var i=new Laya.Prefab;i.json=Laya.Loader.getRes(t[0]);n=i.create()}else{n={};n.__proto__=r.prototype;if(t===void 0){r.call(n)}else if(t instanceof Array===false){r.call(n,t)}else{r.apply(n,t)}}}return n}o.getItemByClass=r;function t(e,r){if(r["__suncom__$__inPool__"]===true){return}r["__suncom__$__inPool__"]=true;var t=n[e]||null;if(t===null){n[e]=[r]}else{t.push(r)}}o.recover=t;function i(e){if(n[e]!==void 0){delete n[e]}}o.clear=i})(s=e.Pool||(e.Pool={}));var L;(function(e){var n=1;var i=1103515245;var o=12345;var a=32767;function r(e){n=e}e.seed=r;function t(){var e=dcodeIO.Long.fromNumber(n);var r=dcodeIO.Long.fromNumber(i);var t=dcodeIO.Long.fromNumber(o);n=Math.floor(e.mul(r).add(t).low/a);return(n%a+a)/(a*2)}e.random=t})(L=e.Random||(e.Random={}))})(suncom||(suncom={}));